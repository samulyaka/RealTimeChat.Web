<div ng-controller="homeController" id="wrapper">

    <a href="#left-menu-toggle" class="btn btn-default" id="left-menu-toggle"></a>
    <a href="#right-menu-toggle" class="btn btn-default pull-right" id="right-menu-toggle"></a>

    <contacts></contacts>
    <file-views></file-views>
    <div id="page-content-wrapper">
        <!-- header -->
        <h4>@danielavnon <span class="online"></span></h4>
        <!-- header -->
        <!-- Contact info -->
        <div class="first-message container-fluid">
            <div class="chat-avatar">
                <img src="images/uploads/user_icon.png" class="img-thumbnail" />
            </div>
            <div class="chat-info">
                <span class="chat-name">Daniel Avnon <span class="online"></span> @danielavnon</span><br />
                <span>Director, Avnon Consulting</span>
            </div>
            <div class="message-body">
                <p>This is the very begining of your direct message history with danielavnon.

                <p>
                    Direct messages are private between the two of you. Sharing a private file here will not make it
                    public, but it will allow danielavnon to see and share it
                </p>
            </div>
        </div>
        <!-- Contact info -->
        <message-list channel="{{$root.activeChannelUUID}}"></message-list>
        <!-- Chat form -->
    </div>


    <script type="text/javascript">
        $(function () {
            $("#left-menu-toggle").click(function (e) {
                e.preventDefault();
                $("#wrapper").toggleClass("left-toggled");
            });
            $("#right-menu-toggle").click(function (e) {
                e.preventDefault();
                $("#wrapper").toggleClass("right-toggled");
            });



            //a custom format option callback
            var addressFormatting = function (text) {
                var newText = text;
                //array of find replaces
                var findreps = [
                    { find: /^([^\|]+) \| /g, rep: '<div class="text-muted">$1</div>' },
                    { find: /([^\|><\(\)]+)$/g, rep: '<div class="text-primary">$1</div>' }
                ];

                for (var i in findreps) {
                    newText = newText.replace(findreps[i].find, findreps[i].rep);
                }
                return newText;
            };

            $('select#files-list').selectmenu({
                style: 'popup',
                width: 450,
                height: 50,
                format: addressFormatting
            });
        });
    </script>
</div>